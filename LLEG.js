!function(t){function i(o){if(e[o])return e[o].exports;var s=e[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}var e={};i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p="",i(i.s=3)}([function(t,i){var e=document.createElement("canvas"),o=document.createElement("p");document.body.appendChild(e),document.body.appendChild(o),e.width=600,e.height=400,e.style="border: 1px solid #d3d3d3;";var s=e.getContext("2d");e.clear=function(){s.clearRect(0,0,e.width,e.height)},t.exports={canvas:e,ctx:s,p:o}},function(t,i,e){function o(){this.transform=new w,this.strokeStyle="#00FFFF",this.fillStyle="rgba(0, 255, 255, 0.4)",this.globalAlpha=1}function s(t,i,e){o.call(this),this.x=t,this.y=i,this.r=e}function n(t,i,e,s){o.call(this),this.x1=t,this.y1=i,this.x2=e,this.y2=s}function h(){if(o.call(this),arguments.length<6)throw"Polygon should have at lease 3 points";this.points=[];for(var t=0;t<arguments.length-1;t+=2){var i={x:arguments[t],y:arguments[t+1]};this.points.push(i)}}function r(t,i,e,o,s,n){h.call(this,t,i,e,o,s,n)}function a(t,i,e,s){o.call(this),this.x=t,this.y=i,this.width=e,this.height=s}function c(t,i,e,s){o.call(this),this.src=t,this.x=i||0,this.y=e||20,this.font=s||"20px Arial",this.fillStyle="orange"}function l(t,i,e,s,n){o.call(this),this.img=new Image,this.img.src=t,this.x=i||0,this.y=e||0,this.width=s,this.height=n}function p(t,i,e,o,s){l.call(this,t,i,e,o,s),this.speed=1}function u(t,i){s.call(this,t,i,2),this.fillStyle="red"}var d=e(0).ctx,f=e(5).inheritPrototype,w=e(6).Transform;o.prototype._draw=null,o.prototype.updateCtx=function(t){t.save(),t.globalAlpha=this.globalAlpha,t.strokeStyle=this.strokeStyle,t.fillStyle=this.fillStyle,this.transform.updateCtx(t)},o.prototype.stroke=function(t){t=t||d,this.updateCtx(t),t.beginPath(),this._draw(t),t.closePath(),t.stroke(),t.restore()},o.prototype.fill=function(t){t=t||d,this.updateCtx(t),t.beginPath(),this._draw(t),t.fill(),t.closePath(),t.restore()},o.prototype.draw=function(t){t=t||d,this.updateCtx(t),t.beginPath(),this._draw(t),t.closePath(),t.stroke(),t.fill(),t.restore()},o.prototype.translate=function(t,i){this.transform.translate(t,i)},o.prototype.scale=function(t,i){this.transform.scale(t,i)},o.prototype.skew=function(t,i){this.transform.skew(t,i)},o.prototype.rotate=function(t){this.transform.rotate(t)},f(s,o),s.prototype._draw=function(t){t.arc(this.x,this.y,this.r,0,2*Math.PI)},f(n,o),n.prototype._draw=function(t){t.moveTo(this.x1,this.y1),t.lineTo(this.x2,this.y2)},f(h,o),h.prototype._draw=function(t){var i=this.points[0];t.moveTo(i.x,i.y);for(var e=1;e<this.points.length;e++)i=this.points[e],t.lineTo(i.x,i.y)},f(r,h),f(a,o),a.prototype._draw=function(t){t.rect(this.x,this.y,this.width,this.height)},f(c,o),c.prototype.stroke=function(t){t=t||d,this.updateCtx(t),t.font=this.font,t.strokeText(this.src,this.x,this.y),t.restore()},c.prototype.fill=function(t){t=t||d,this.updateCtx(t),t.font=this.font,t.fillText(this.src,this.x,this.y),t.restore()},c.prototype.draw=c.prototype.fill,f(l,o),l.prototype.cut=function(t,i,e,o){this.sx=t>0?t:1,this.sy=i>0?t:1,this.swidth=e,this.sheight=o,this.width=this.width||this.swidth,this.height=this.height||this.sheight},l.prototype._draw=function(t){this.sx&&this.sy&&this.swidth&this.sheight?t.drawImage(this.img,this.sx,this.sy,this.swidth,this.sheight,this.x,this.y,this.width,this.height):this.width&&this.height?t.drawImage(this.img,this.x,this.y,this.width,this.height):t.drawImage(this.img,this.x,this.y)},l.prototype.fill=null,l.prototype.stroke=null,f(p,l),p.prototype.setFrame=function(t,i,e,o,s,n){this.c=s,this.r=n||1,this.cf=0,this.cut(t,i,e,o)},p.prototype.setSpeed=function(t){this.speed=t>1?t:1},p.prototype._draw=function(t){var i=this.sx+this.swidth*(Math.floor(this.cf/this.speed)%this.c),e=this.sy+this.sheight*(Math.floor(this.cf/this.c/this.speed)%this.r);t.drawImage(this.img,i,e,this.swidth,this.sheight,this.x,this.y,this.width,this.height),t===d&&this.cf++},f(u,s),u.prototype.draw=u.prototype.fill,t.exports={Shape:o,Line:n,Rectangle:a,Polygon:h,Triangle:r,Circle:s,Text:c,Sprite:l,Animation:p,Point:u}},function(t,i,e){function o(t,i,e){var o=t.getBoundingClientRect();return{x:i-o.left*(t.width/o.width),y:e-o.top*(t.height/o.height)}}function s(t){var i=o(h,t.clientX,t.clientY);a.x=Math.floor(i.x),a.y=Math.floor(i.y),r.innerHTML=a.x+", "+a.y}function n(t){t.preventDefault(),a.up&&a.up()}var h=e(0).canvas,r=e(0).p,a={x:0,y:0};h.onmousemove=function(t){t.preventDefault(),s(t),a.move&&a.move()},h.ontouchmove=function(t){t.preventDefault(),s(t.touches.item(0)),a.move&&a.move()},h.ontouchend=h.onmouseup=n,h.onmousedown=function(t){t.preventDefault(),s(t),a.down&&a.down()},h.ontouchstart=function(t){t.preventDefault(),s(t.touches.item(0)),a.down&&a.down()},h.onclick=function(t){t.preventDefault(),a.click&&a.click()},t.exports={Mouse:a}},function(t,i,e){var o=e(0).canvas,s=e(0).ctx,n=(e(4),e(7).Key),h=e(2).Mouse,r=e(8).Music,a=e(1);window.canvas=o,window.ctx=s,window.Line=a.Line,window.Rectangle=a.Rectangle,window.Polygon=a.Polygon,window.Triangle=a.Triangle,window.Circle=a.Circle,window.Text=a.Text,window.Sprite=a.Sprite,window.Animation=a.Animation,window.Point=a.Point,window.Key=n,window.Mouse=h,window.Music=r},function(t,i,e){function o(t,i){l.clearRect(0,0,h.width,h.height),p.clearRect(0,0,h.width,h.height),l.save(),t.draw(l),i.draw(p),l.globalCompositeOperation="source-in",l.drawImage(p.canvas,0,0),l.restore();for(var e=l.getImageData(0,0,h.width,h.height),o=0;o<e.data.length/4-1;o++)if(0!=e.data[4*o+3])return new n.Point(o%h.width,o/h.width);return!1}function s(t,i){l.clearRect(0,0,h.width,h.height),l.save(),t.draw(l),l.restore();var e=i.x,o=i.y;return 0!=l.getImageData(e,o,1,1).data[3]}var n=e(1),h=e(0).canvas,r=(e(0).ctx,e(2).Mouse),a=(n.Shape,document.createElement("canvas")),c=document.createElement("canvas");a.width=1e3,a.height=1e3,c.width=1e3,c.height=1e3;var l=a.getContext("2d"),p=c.getContext("2d");Object.prototype.collide=function(t){if(!this.draw||!t.draw)throw"LLEG: Object must have draw method";return o(this,t)},Object.prototype.touched=function(){if(!this.draw)throw"LLEG: Object must have draw method";return s(this,r)},t.exports={}},function(t,i){var e=function(t,i){var e=Object.create(i.prototype);e.constructor=t,t.prototype=e};t.exports={inheritPrototype:e}},function(t,i){function e(){this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.translateX=0,this.translateY=0,this.degree=0}e.prototype.scale=function(t,i){this.scaleX=t,this.scaleY=i},e.prototype.translate=function(t,i){this.translateX=t,this.translateY=i},e.prototype.skew=function(t,i){this.skewX=t,this.skewY=i},e.prototype.rotate=function(t){this.degree=t},e.prototype.updateCtx=function(t){t.transform(this.scaleX,this.skewX,this.skewY,this.scaleY,this.translateX,this.translateY),t.rotate(this.degree*Math.PI/180)},t.exports={Transform:e}},function(t,i){for(var e={},o="abcdefghijklmnopqrstuvwxyz1234567890",s=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter","Escape"],n=0;n<o.length;n++)e[o[n]]={};for(n=0;n<s.length;n++)e[s[n]]={};document.onkeyup=function(t){var i=e[t.key];i&&i.up&&i.up()},document.onkeydown=function(t){var i=e[t.key];i&&i.down&&i.down()},document.onkeypress=function(t){var i=e[t.key];i&&i.press&&i.press()},t.exports={Key:e}},function(t,i){function e(t){this.audio=new Audio,this.audio.src=t,this.audio.preload="auto"}e.prototype.autoPlay=function(t){this.audio.autoPlay=t},e.prototype.play=function(){this.audio.currentTime=0,this.audio.play()},e.prototype.stop=function(){this.audio.pause()},e.prototype.loop=function(t){this.audio.loop=t},t.exports={Music:e}}]);