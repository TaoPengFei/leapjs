!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e){var i=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var e,i,n;try{e=Map}catch(t){e=function(){}}try{i=Set}catch(t){i=function(){}}try{n=Promise}catch(t){n=function(){}}function s(o,h,a,l,c){"object"==typeof h&&(a=h.depth,l=h.prototype,c=h.includeNonEnumerable,h=h.circular);var u=[],f=[],d="undefined"!=typeof Buffer;return void 0===h&&(h=!0),void 0===a&&(a=1/0),function o(a,m){if(null===a)return null;if(0===m)return a;var w,p;if("object"!=typeof a)return a;if(t(a,e))w=new e;else if(t(a,i))w=new i;else{if(t(a,Image))return(w=new Image).crossOrigin="anonymous",w.src=a.src,w;if(t(a,n))w=new n(function(t,e){a.then(function(e){t(o(e,m-1))},function(t){e(o(t,m-1))})});else if(s.__isArray(a))w=[];else if(s.__isRegExp(a))w=new RegExp(a.source,r(a)),a.lastIndex&&(w.lastIndex=a.lastIndex);else if(s.__isDate(a))w=new Date(a.getTime());else{if(d&&Buffer.isBuffer(a))return w=new Buffer(a.length),a.copy(w),w;t(a,Error)?w=Object.create(a):void 0===l?(p=Object.getPrototypeOf(a),w=Object.create(p)):(w=Object.create(l),p=l)}}if(h){var y=u.indexOf(a);if(-1!=y)return f[y];u.push(a),f.push(w)}for(var g in t(a,e)&&a.forEach(function(t,e){var i=o(e,m-1),n=o(t,m-1);w.set(i,n)}),t(a,i)&&a.forEach(function(t){var e=o(t,m-1);w.add(e)}),a){var x;p&&(x=Object.getOwnPropertyDescriptor(p,g)),x&&null==x.set||(w[g]=o(a[g],m-1))}if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);for(g=0;g<_.length;g++){var b=_[g];(!(P=Object.getOwnPropertyDescriptor(a,b))||P.enumerable||c)&&(w[b]=o(a[b],m-1),P.enumerable||Object.defineProperty(w,b,{enumerable:!1}))}}if(c){var v=Object.getOwnPropertyNames(a);for(g=0;g<v.length;g++){var P,X=v[g];(P=Object.getOwnPropertyDescriptor(a,X))&&P.enumerable||(w[X]=o(a[X],m-1),Object.defineProperty(w,X,{enumerable:!1}))}}return w}(o,a)}function o(t){return Object.prototype.toString.call(t)}function r(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return s.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},s.__objToStr=o,s.__isDate=function(t){return"object"==typeof t&&"[object Date]"===o(t)},s.__isArray=function(t){return"object"==typeof t&&"[object Array]"===o(t)},s.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===o(t)},s.__getRegExpFlags=r,s}();"object"==typeof t&&t.exports&&(t.exports=i)},function(t,e,i){"use strict";var n;i.r(e);var s=new Set;const o={},r=function(t){let e=o[t.name];e&&clearInterval(e)};class h{constructor(){this.anchorX=0,this.anchorY=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.translateX=0,this.translateY=0,this._degree=0,this.anchor={x:.5,y:.5}}transformed(){return 1!==this.scaleX||1!==this.scaleY||this.skewX||this.skewY||this.translateX||this.translateY||this._degree}scale(t,e){this.scaleX=t,this.scaleY=e}translate(t,e){this.translateX=t,this.translateY=e}skew(t,e){this.skewX=t,this.skewY=e}setAnchor(t,e){this.anchor.x=t,this.anchor.y=e}rotate(t){this._degree=t}get degree(){return this._degree*Math.PI/180}getRealPoint(t){if(!this.transformed())return t;let e=t.x,i=t.y;e-=this.anchorX,i-=this.anchorY;let n=this.degree,s=Math.sin(n),o=Math.cos(n),r=e*o-i*s,h=i*o+e*s;return e=r,i=h,r=this.scaleX*e+this.skewX*i+this.translateX,h=this.skewY*e+this.scaleY*i+this.translateY,e=r,i=h,{x:e+=this.anchorX,y:i+=this.anchorY}}}let a=document.createElement("canvas"),l=document.createElement("p");document.body.appendChild(a),document.body.appendChild(l),a.style.cssText="\n  border: 1px solid #d3d3d3;\n\n  user-select:none; \n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n\n  -webkit-touch-callout:none;\n  touch-callout:none;",l.style.cssText="color: orange;";let c=a.getContext("2d");c._setTransform=function(t){c.setTransform(1,0,0,1,0,0),c.transform(t.scaleX,t.skewX,t.skewY,t.scaleY,t.translateX,t.translateY),c.rotate(t.degree)},a.resize=function(t,e){a.width=t||450,a.height=e||600,c.fillStyle=c.strokeStyle="orange",c.textBaseline="top"},a.resize(),a.transform=new h,a.scale=function(t,e){a.transform.scale(t,e),c._setTransform(a.transform),c.lineWidth=2/(t+e)},a.rotate=function(t){a.transform.rotate(t),c._setTransform(a.transform)},a._translate=function(t,e){a.transform.translate(t,e),c._setTransform(a.transform)},a.clear=function(){s.clear(),c.save(),c.setTransform(1,0,0,1,0,0),c.clearRect(0,0,a.width,a.height),c.restore()},a.showAxis=function(){c.save(),c.strokeStyle="black";let t=10,e=0;a.transform.scaleX>=10&&a.transform.scaleY>=10&&(t=1);let i=a.width/Math.abs(a.transform.scaleX),n=a.height/Math.abs(a.transform.scaleY);for(let s=0;s<i;s+=t)s%(10*t)==0?(text(s.toString(),s,0,1.5*t),text((-s).toString(),-s,0,1.5*t),e=.04*t):e=.01*t,line(s,-n,s,n,e),line(-s,-n,-s,n,e);for(let s=0;s<n;s+=t)s%(10*t)==0?(text(s.toString(),0,s,1.5*t),text((-s).toString(),0,-s,1.5*t),e=.03*t):e=.01*t,line(-i,s,i,s,e),line(-i,-s,i,-s,e);c.restore()},c.update=function(t){t.fillStyle&&(c.fillStyle=t.fillStyle),t.strokeStyle&&(c.strokeStyle=t.strokeStyle),t.shadowColor&&(c.shadowColor=t.shadowColor),void 0!==t.shadowBlur&&(c.shadowBlur=t.shadowBlur),void 0!==t.shadowOffsetX&&(c.shadowOffsetX=t.shadowOffsetX),void 0!==t.shadowOffsetY&&(c.shadowOffsetY=t.shadowOffsetY),t.lineCap&&(c.lineCap=t.lineCap),t.lineJoin&&(c.lineJoin=t.lineJoin),void 0!==t.lineWidth&&(c.lineWidth=t.lineWidth),void 0!==t.miterLimit&&(c.miterLimit=t.miterLimit),void 0!==t.globalAlpha&&(c.globalAlpha=t.globalAlpha),t.globalCompositeOperation&&(c.globalCompositeOperation=t.globalCompositeOperation),t.lineDash&&c.setLineDash(t.lineDash),t.textAlign&&(c.textAlign=t.textAlign),t.textBaseline&&(c.textBaseline=t.textBaseline),t.transform.transformed()&&(t.updateAnchor(),c.updateTransform(t.transform))},c.updateTransform=function(t){c.translate(t.anchorX,t.anchorY),c.rotate(t.degree),c.transform(t.scaleX,t.skewX,t.skewY,t.scaleY,t.translateX,t.translateY),c.translate(-t.anchorX,-t.anchorY)},a.getRealPoint=function(t){if(!this.transform.transformed())return t;let e=this.transform,i=t.x,n=t.y,s=i,o=n;i=(s-e.translateX)/e.scaleX,n=(o-e.translateY)/e.scaleY;let r=e.degree,h=Math.sin(-r),a=Math.cos(-r);return{x:i=(s=i)*a-(o=n)*h,y:n=o*a+s*h}};let u={};const f="abcdefghijklmnopqrstuvwxyz1234567890!@#$%^&*()_+-=,./<>?|\\;:'\"",d=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter","Escape"," ","Tab","Shift","Control","Alt","Backspace"],m=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Escape","Tab","Shift","Control","Alt","Backspace"];for(let t=0;t<f.length;t++)u[f[t]]={};for(let t=0;t<d.length;t++)u[d[t]]={};document.onkeyup=function(t){let e=u[t.key];e&&e.up&&e.up()},document.onkeydown=function(t){let e=u[t.key];e&&e.down&&e.down(),m.includes(t.key)&&e.press&&e.press()},document.onkeypress=function(t){let e=u[t.key];e&&e.press&&e.press()};let w={x:0,y:0},p={};function y(t){t.touches&&(t=t.touches.item(0));let e=function(t,e,i){let n=t.getBoundingClientRect();return e-=n.left*(t.width/n.width),i-=n.top*(t.height/n.height),t.getRealPoint({x:e,y:i})}(a,t.clientX,t.clientY);w.x=Math.floor(e.x),w.y=Math.floor(e.y),l.innerHTML=`x: ${w.x}, y: ${w.y}`}p.init=function(){p.x=w.x,p.y=w.y},a.onmousedown=function(t){y(t),w.down&&w.down();const e=Array.from(s);let i=e.length;for(;i--;){let t=e[i];if(t.touched()&&t.click){t.click();break}}},a.ontouchstart=function(t){a.onmousedown(t),p.init()},a.onmousemove=function(t){y(t),w.move&&w.move()},a.ontouchmove=function(t){a.onmousemove(t),w.x-p.x>50&&u.ArrowRight.down?(u.ArrowRight.down(),p.init()):p.x-w.x>50&&u.ArrowLeft.down&&(u.ArrowLeft.down(),p.init()),p.y-w.y>50&&u.ArrowUp.down?(u.ArrowUp.down(),p.init()):w.y-p.y>50&&u.ArrowDown.down&&(u.ArrowDown.down(),p.init()),t.preventDefault()},a.ontouchend=a.onmouseup=function(t){y(t),w.up&&w.up()},a.onclick=function(t){y(t),w.click&&w.click()};let g,x=0,_=0;let b={add:function(){x++},load:function(){_++},isLoaded:function(){return _>=x}},v=0;function P(){if(a.clear(),b.isLoaded())g();else{new C("LeapLearner",a.width/2-110,200,40).draw();let t="loading";for(let e=0;e<v%6;e++)t+=".";new C(t,a.width/2-40,a.height-240).draw(),new B(50,a.height-200,a.width-100,10).fill();let e=new B(50,a.height-200,(a.width-100)*_/x,10);e.fillStyle="orange",e.fill(),v++,setTimeout(P,100)}}let X=document.createElement("canvas").getContext("2d");function Y(t,e,i,n){let s=t.x,o=e.x,r=i.x,h=n.x,a=t.y,l=e.y,c=i.y,u=n.y;if(Math.min(s,o)>Math.max(r,h)||Math.min(a,l)>Math.max(c,u)||Math.max(s,o)<Math.min(r,h)||Math.max(a,l)<Math.min(c,u))return!1;if((a-l)*(r-h)==(s-o)*(c-u))return!1;if(T(i,e,i,n)*T(i,n,i,t)<0||T(t,n,t,e)*T(t,e,t,i)<0)return!1;let f=(l-a)*s+(s-o)*a,d=(u-c)*r+(r-h)*c,m=(o-s)*(u-c)-(h-r)*(l-a);return{x:(d*(o-s)-f*(h-r))/m,y:(d*(l-a)-f*(u-c))/m}}function T(t,e,i,n){return(e.x-t.x)*(n.y-i.y)-(e.y-t.y)*(n.x-i.x)}function k(t,e){return Math.max(t,e)}function M(t,e){return Math.min(t,e)}function S(t){let e=t.map(t=>t.x),i=t.map(t=>t.y);return{minX:e.reduce(M),maxX:e.reduce(k),minY:i.reduce(M),maxY:i.reduce(k)}}function A(t,e){return e.minX<=t.x&&t.x<=e.maxX&&e.minY<=t.y&&t.y<=e.maxY}X.drawPathByPoints=function(t){X.beginPath(),X.moveTo(t[0].x,t[0].y);for(let e=1;e<t.length;e++)X.lineTo(t[e].x,t[e].y);X.closePath()};var O=i(0),j=i.n(O);class I{constructor(){this.transform=new h,this._points=[]}_path(){}_stroke(){this._path(),c.stroke()}_fill(){this._path(),c.fill()}stroke(){this.click&&s.add(this),c.save(),c.update(this),this._stroke(),c.restore()}fill(){this.click&&s.add(this),c.save(),c.update(this),this._fill(),c.restore()}_draw(){this._path(),c.fill()}draw(){this.click&&s.add(this),c.save(),c.update(this),this._draw(),c.restore()}translate(t,e){this.transform.translate(t,e)}scale(t,e){this.transform.scale(t,e)}skew(t,e){this.transform.skew(t,e)}setAnchor(t,e){this.transform.setAnchor(t,e)}rotate(t){this.transform.rotate(t)}getRealPoint(t){return this.transform.getRealPoint(t)}click(){}touched(){return function(t,e){let i=e.points;return!(i.length<3)&&!!A(t,S(i))&&(X.drawPathByPoints(i),!!X.isPointInPath(t.x,t.y)&&t)}(w,this)}collide(t){return t instanceof I&&function(t,e){const i=t.points,n=e.points;if(i.length<2)return!1;if(n.length<2)return!1;let s={},o={};if(s=S(i),o=S(n),s.minX>o.maxX||s.minY>o.maxY||o.minX>s.maxX||o.minY>s.maxY)return!1;let r=function(t,e){return{minX:t.minX>e.minX?t.minX:e.minX,minY:t.minY>e.minY?t.minY:e.minY,maxX:t.maxX<e.maxX?t.maxX:e.maxX,maxY:t.maxY<e.maxY?t.maxY:e.maxY}}(s,o);X.drawPathByPoints(n);for(let t=0;t<i.length;t++){let e=i[t];if(A(e,r)&&X.isPointInPath(e.x,e.y))return e}X.drawPathByPoints(i);for(let t=0;t<n.length;t++){let e=n[t];if(A(e,r)&&X.isPointInPath(e.x,e.y))return e}for(let t=0;t<i.length-1;t++){let e=i[t],s=i[t+1];for(let t=0;t<n.length-1;t++){let i=Y(e,s,n[t],n[t+1]);if(i)return i}}return!1}(this,t)}clone(){return j()(this,!1)}_updatePoints(){}get points(){return this._updatePoints(),this._points.map(t=>this.transform.getRealPoint(t))}setLineDash(t){this.lineDash=t}get minX(){return Math.min(...this._points.map(t=>t.x))}get minY(){return Math.min(...this._points.map(t=>t.y))}get maxX(){return Math.max(...this._points.map(t=>t.x))}get maxY(){return Math.max(...this._points.map(t=>t.y))}updateAnchor(){this._updatePoints(),this.transform.anchorX=this.minX+(this.maxX-this.minX)*this.transform.anchor.x,this.transform.anchorY=this.minY+(this.maxY-this.minY)*this.transform.anchor.y}}class D extends I{constructor(t=50,e=50,i=20){super(),this.x=t,this.y=e,this.r=i}get radius(){return this.r}set radius(t){this.r=t}_path(){c.beginPath(),c.arc(this.x,this.y,this.r,0,2*Math.PI)}_updatePoints(){this._points=[];let t=2*Math.PI/8;for(let e=0;e<8;e++)this._points.push({x:this.x+this.r*Math.sin(t*e),y:this.y+this.r*Math.cos(t*e)})}}class R extends I{constructor(){if(super(),arguments.length<6)throw String("Polygon should have at lease 3 points");this._points=[];for(let t=0;t<arguments.length-1;t+=2){let e={x:arguments[t],y:arguments[t+1]};this._points.push(e)}}_path(){c.beginPath();let t=this._points[0];c.moveTo(t.x,t.y);for(let e=1;e<this._points.length;e++)t=this._points[e],c.lineTo(t.x,t.y);c.closePath()}get x(){return(this.minX+this.maxX)/2}set x(t){let e=t-this.x;for(let t=0;t<this._points.length;t++)this._points[t].x+=e}get y(){return(this.minY+this.maxY)/2}set y(t){let e=t-this.y;for(let t=0;t<this._points.length;t++)this._points[t].y+=e}}class B extends I{constructor(t=100,e=100,i=100,n=50){super(),this.x=t,this.y=e,this.w=i,this.h=n,this.collideW=1,this.collideH=1}get width(){return this.w}set width(t){this.w=t}get height(){return this.h}set height(t){this.h=t}_path(){c.beginPath(),c.rect(this.x,this.y,this.w,this.h)}setCollisionScale(t,e){this.collideW=t,this.collideH=e}_updatePoints(){this._points=[];let t=this.x+this.w/2*(1-this.collideW),e=this.x+this.w/2*(1+this.collideW),i=this.y+this.h/2*(1-this.collideH),n=this.y+this.h/2*(1+this.collideH);this._points.push({x:t,y:i}),this._points.push({x:t,y:n}),this._points.push({x:e,y:n}),this._points.push({x:e,y:i})}}class C extends B{constructor(t="LeapLearner",e=0,i=0,n=20,s="Arial"){super(e,i,100,n),this._src=t,this._font=s,this.fillStyle="orange",this._updateWidth()}_updateWidth(){c.save(),c.update(this),c.font=this.h+"px "+this._font,this.w=c.measureText(this._src).width,c.restore()}get src(){return this._src}set src(t){this._src=t,this._updateWidth()}get size(){return this.h}set size(t){this.h=t,this._updateWidth()}get font(){return this._font}set font(t){this._font=t,this._updateWidth()}_stroke(){c.font=this.size+"px "+this.font,c.strokeText(this.src,this.x,this.y)}_fill(){c.font=this.size+"px "+this.font,c.fillText(this.src,this.x,this.y)}draw(){this.fill()}}class L extends B{constructor(t,e=0,i=0,n=null,s=null){super(e,i,n,s),this.collideW=.8,this.collideH=.8,this.img=new window.Image,this.img.crossOrigin="anonymous",this.img.onload=function(){b.load()},this.img.onerror=function(){console.log("图片加载失败："+this.src)},this.img.src=t,b.add()}get src(){return this.img.src}set src(t){this.img.src=t}set onload(t){this.img.onload=function(){t()}}clip(t,e,i,n){this.sx=t>0?t:1,this.sy=e>0?e:1,this.sw=i,this.sh=n}_draw(){this.sx&&this.sy&&this.sw&this.sh?c.drawImage(this.img,this.sx,this.sy,this.sw,this.sh,this.x,this.y,this.w,this.h):this.w&&this.h?c.drawImage(this.img,this.x,this.y,this.w,this.h):c.drawImage(this.img,this.x,this.y)}fill(){}stroke(){}}class E extends D{constructor(t,e){super(t,e,.5),this.fillStyle="red",this.strokeStyle="rgba(0, 0, 0, 0)"}}E.prototype.draw=E.prototype.fill;const W=R;let $=!0;function H(){c.save(),c.beginPath()}function z(t){$?(t&&(c.fillStyle=t),c.fill()):(t&&(c.strokeStyle=t),c.stroke()),c.restore()}function F(t,e,i,n,s){H(),c.rect(t,e,i,n),z(s)}function U(t,e,i,n){H(),c.arc(t,e,i,0,2*Math.PI),z(n)}function J(){H();let t=arguments.length;c.moveTo(arguments[0],arguments[1]);for(let e=2;e<t-1;e+=2)c.lineTo(arguments[e],arguments[e+1]);c.closePath();let e=null;t%2==1&&(e=arguments[t-1]),z(e)}const q={};let G="Arial";const N={};window.canvas=a,window.ctx=c,window.Line=class extends I{constructor(t=100,e=100,i=200,n=100){super(),this.x1=t,this.y1=e,this.x2=i,this.y2=n}_path(){c.beginPath(),c.moveTo(this.x1,this.y1),c.lineTo(this.x2,this.y2)}_updatePoints(){this._points=[],this._points.push({x:this.x1,y:this.y1}),this._points.push({x:this.x2,y:this.y2})}get x(){return(this.minX+this.maxX)/2}set x(t){let e=t-this.x;this.x1+=e,this.x2+=e}get y(){return(this.minY+this.maxY)/2}set y(t){let e=t-this.y;this.y1+=e,this.y2+=e}},window.Rectangle=B,window.Polygon=R,window.Triangle=W,window.Circle=D,window.Text=C,window.Sprite=L,window.Animation=class extends L{constructor(t,e,i,n,s){super(t,e,i,n,s),this.speed=10,this._cf=0}setFrame(t,e=1){this._c=t,this._r=e}setSpeed(t){this.speed=t,this.speed<1&&(this.speed=1),this.speed>100&&(this.speed=100)}_draw(){this.sw=this.img.naturalWidth/this._c,this.sh=this.img.naturalHeight/this._r,this.w=this.w||this.sw,this.h=this.h||this.sh;let t=this.sw*(Math.floor(this._cf*this.speed/60)%this._c),e=this.sh*(Math.floor(this._cf*this.speed/60/this._c)%this._r);c.drawImage(this.img,t,e,this.sw,this.sh,this.x,this.y,this.w,this.h),this._cf++}},window.Point=E,window.Ellipse=class extends I{constructor(t,e,i,n){super(),this.x=t,this.y=e,this.rX=i,this.rY=n}_path(){c.beginPath(),c.ellipse(this.x,this.y,this.rX,this.rY,0,0,2*Math.PI)}_updatePoints(){this._points=[];let t=2*Math.PI/8;for(let e=0;e<8;e++)this._points.push({x:this.x+this.rX*Math.sin(t*e),y:this.y+this.rY*Math.cos(t*e)})}get radiusX(){return this.rX}set radiusX(t){this.rX=t}get radiusY(){return this.rY}set radiusY(t){this.rY=t}},window.Key=u,window.Mouse=w,window.nextFrame=function(t){n&&window.cancelAnimationFrame(n),n=window.requestAnimationFrame(t)},window.loadRssAndRun=function(t){g=t,P()},window.run=function(t,e=20){r(t),o[t.name]=setInterval(t,e)},window.stop=r,window.RGB=function(t,e,i){return"rgb("+(t=Math.floor(t))+", "+(e=Math.floor(e))+", "+(i=Math.floor(i))+")"},window.RGBA=function(t,e,i,n){return"rgba("+(t=Math.floor(t))+", "+(e=Math.floor(e))+", "+(i=Math.floor(i))+", "+n+")"},window.HSL=function(t,e,i){return`hsl(${t=Math.floor(t)}, ${100*e}%, ${100*i}%)`},window.HSLA=function(t,e,i,n){return`hsla(${t=Math.floor(t)}, ${100*e}%, ${100*i}%, ${n})`},window.Swing=class{constructor(t,e,i,n=!0){this.min=t,this.max=e,this.cycleTime=i,this.loop=n,this.startTime=(new Date).getTime()}[Symbol.toPrimitive](t){let e=((new Date).getTime()-this.startTime)/1e3;return!this.loop&&e>this.cycleTime?this.min:((e%=this.cycleTime)>this.cycleTime/2&&(e=this.cycleTime-e),2*(this.max-this.min)*e/this.cycleTime+this.min)}},window.Increase=class{constructor(t,e,i,n=!0){this.min=t,this.max=e,this.cycleTime=i,this.loop=n,this.startTime=(new Date).getTime()}[Symbol.toPrimitive](t){let e=((new Date).getTime()-this.startTime)/1e3;return!this.loop&&e>this.cycleTime?this.max:(e%=this.cycleTime,(this.max-this.min)*e/this.cycleTime+this.min)}},window.Sine=class{constructor(t,e,i,n=!0){this.mean=t,this.wave=e,this.cycleTime=i,this.loop=n,this.startTime=(new Date).getTime()}[Symbol.toPrimitive](t){let e=((new Date).getTime()-this.startTime)/1e3;return!this.loop&&e>this.cycleTime?this.mean:(e%=this.cycleTime,this.mean+this.wave*Math.sin(e/this.cycleTime*Math.PI*2))}},window.Volatile=class{constructor(t){this.func=t,this.startTime=(new Date).getTime()}[Symbol.toPrimitive](t){let e=((new Date).getTime()-this.startTime)/1e3;return this.func(e)}},window.randint=function(t,e){return t=Math.floor(t),e=Math.floor(e),Math.floor(t+Math.random()*(e-t+1))},window.background=function(t){F(0,0,a.width,a.height,t)},window.fill=function(t=!0){$=t},window.rectangle=F,window.circle=U,window.line=function(t,e,i,n,s,o){c.save(),"string"==typeof s?o=s:s&&(c.lineWidth=s),o&&(c.strokeStyle=o),c.beginPath(),c.moveTo(t,e),c.lineTo(i,n),c.stroke(),c.restore()},window.point=function(t,e,i){H(),U(t,e,.5),z(i)},window.polygon=J,window.triangle=function(t,e,i,n,s,o,r){H(),J(t,e,i,n,s,o),z(r)},window.ellipse=function(t,e,i,n,s){H(),c.ellipse(t,e,i,n,0,0,2*Math.PI),z(s)},window.image=function(t,e=0,i=0,n,s){let o;q.hasOwnProperty(t)?o=q[t]:((o=new Image).crossOrigin="anonymous",o.src=t,q[t]=o),o._x=e,o._y=i,o.w=n,o.h=s,o.complete?n&&s?c.drawImage(o,e,i,n,s):c.drawImage(o,e,i):o.onload=function(){this.w&&this.h?c.drawImage(this,this._x,this._y,this.w,this.h):c.drawImage(this,this._x,this._y)}},window.text=function(t,e=0,i=0,n=20,s){c.save(),c.font=n+"px "+G,s&&(c.fillStyle=s),c.fillText(t,e,i),c.restore()},window.font=function(t){G=t},window.play=function(t,e){let i;N.hasOwnProperty(t)?((i=N[t]).loop=e,i.play()):((i=new Audio).src=t,e&&(i.loop=e),N[t]=i,i.oncanplaythrough=function(){this.play()})},window.pause=function(t){N.hasOwnProperty(t)&&N[t].pause()},window.noStroke=function(){console.log("'noStroke' is deprecated, use 'fill(boolen)' instead")},window.canvas.preventDefaultEvent=function(){console.log("'canvas.preventDefaultEvent' is deprecated, you don't need it any more")},window.nextFrame=function(){console.log("'nextFrame' is deprecated, use 'run(function)' instead")},window.playSound=function(){console.log("'playSound' is deprecated, use 'play' instead")}}]);